<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>本站GUI客户端开发说明</title>
    <url>/2021/03/24/%E6%9C%AC%E7%AB%99GUI%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<h2 id="欢迎-🤝"><a href="#欢迎-🤝" class="headerlink" title="欢迎 🤝"></a>欢迎 🤝</h2><p>出于兴趣和学习，笔者计划针对本站开发几个主流操作系统平台的博客阅读客户端应用程序，源代码已上传到我的 Github 仓库，<a href="https://github.com/TanWucheng/TenBlogClients">点此</a>即可前往查看，欢迎向笔者指出不足之处和提出改进建议的 <a href="https://github.com/TanWucheng/TenBlogClients/issues">Issues</a>，截止本文编写日期(2021-03-24)，已发布了一个安卓平台的 Alpha 测试版应用程序，开发进度说明请阅读下文，后续随开发进度会持续更新本文，本站也将本文暂时置顶。</p>
<span id="more"></span>

<p>现在发布的软件安装会贴上文件的 SHA256 散列值，用于校验软件，下载下来记得校验安装包文件的 SHA256 散列值，用于校验文件的原子性和完整性，下面示例使用 OPENSSL 命令获取文件 SHA256 散列值，此外还有多种工具和方式获取文件的 SHA256 散列值请自行搜索。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; openssl dgst -sha256 TenBlogDroidApp-0.2.2-Alpha.apk</span><br></pre></td></tr></table></figure>

<ul>
<li><p>  2021-03-24 安卓客户端 0.1.1-Alpha 已发布在 Github，<a href="https://github.com/TanWucheng/TenBlogClients/releases/tag/0.1.2-alpha">点此</a>前往下载，发布的 APK 只在 Android 11 &amp; MIUI 12.2.3 的机子上测试过，其他厂商的 ROM 没有条件测试，如果其他厂商机型无法安装运行或者应用程序错误崩溃闪退等发生，请反馈给笔者</p>
</li>
<li><p>  2021-03-27 安卓客户端 0.1.2-Alpha 已发布在<a href="https://github.com/TanWucheng/TenBlogClients/releases/tag/0.1.2-alpha">Github Release</a>，同时上一个发行版的 APK 已被删除，此版本修复了一些错误，重构了一些代码，更改了 Apk 包名称，请卸载之前的版本，然后重新安装</p>
</li>
<li><p>  2021-04-11 安卓客户端 0.2.1-Alpha 已发布在<a href="https://github.com/TanWucheng/TenBlogClients/releases/tag/0.2.1-alpha">Github Release</a>，同时上一个发行版的 APK 已被删除，此版本修复了一些错误，重构了一些代码，新增了一些功能</p>
</li>
<li><p>  2021-04-11 安卓客户端 0.2.3-Alpha 已发布在<a href="https://github.com/TanWucheng/TenBlogClients/releases/tag/0.2.2-alpha">Github Release</a>，同时上一个发行版的 APK 已被删除，此版本完善了一些显示内容</p>
</li>
<li><p>  2021-06-29 补上之前已经发布但忘记更新声明的 WPF、UWP 和 Electron 客户端，程序文件依然发布在<a href="https://github.com/TanWucheng/TenBlogClients/releases/tag/0.2.2-alpha">Github Release</a>，其中安卓客户端源代码已经迁移到我的<a href="https://gitee.com/tanwucheng/DotNetForAndroidRepo">Gitee DotNetForAndroidRepo</a>仓库，WPF 和 UWP 客户端源代码暂时保存在我的<a href="https://github.com/TanWucheng/TenBlogClients">GitHub TenBlogClients</a>仓库，Electron 客户端源代码存放在我的另外一个<a href="https://gitee.com/tanwucheng/ten-blog-electron-app">Gitee TenBlogElectronApp</a>仓库，这三个客户端都有特定的运行环境要求，详情请查看我的<a href="https://github.com/TanWucheng/TenBlogClients/releases/tag/0.2.2-alpha">Github 发布日志</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>Statement</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>客户端下载</title>
    <url>/2021/07/01/%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8B%E8%BD%BD/</url>
    <content><![CDATA[<h2 id="Ten-Blog-客户端下载"><a href="#Ten-Blog-客户端下载" class="headerlink" title="Ten Blog 客户端下载"></a>Ten Blog 客户端下载</h2><p>下载 App，在各操作系统平台上浏览博客网站。</p>
<table>
<thead>
<tr>
<th>平台</th>
<th align="left">下载地址</th>
<th align="left">SHA256</th>
</tr>
</thead>
<tbody><tr>
<td>Linux DEB</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp_1.0.2_amd64.deb">TenBlogElectronApp_1.0.2_amd64.deb</a></td>
<td align="left">DDE5688DEC69FE8ED9C463AAE981E79CBFB9EECD88D349061F000172192E8245</td>
</tr>
<tr>
<td>Linux RPM</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp-1.0.2.x86_64.rpm">TenBlogElectronApp-1.0.2.x86_64.rpm</a></td>
<td align="left">C4D60839E8A7FCFC794917CFA0B69D7DD2B7ADE2D0E19AC74B7B3CE1D1760CAA</td>
</tr>
<tr>
<td>Linux AppImage</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp-1.0.2_x86_64.AppImage">TenBlogElectronApp-1.0.2_x86_64.AppImage</a></td>
<td align="left">4921435E519C7168D113DFF921B4137607823F824C3D0911B6356DB48FCFB275</td>
</tr>
<tr>
<td>Raspberry Pi AppImage</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp-1.0.2-armv7l.AppImage">TenBlogElectronApp-1.0.2-armv7l.AppImage</a></td>
<td align="left">481BA5908C6028B4CF27012B5A1BEED59120AD92BA227327D49DCE5F5BAD47BF</td>
</tr>
<tr>
<td>Mac Zip</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp-1.0.2-mac.zip">TenBlogElectronApp-1.0.2-mac.zip</a></td>
<td align="left">B3E2A007F16E9572BA7FE63052D790EAEBE07547E376218CFEC4244C4F1A86AC</td>
</tr>
<tr>
<td>Mac DMG</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp-1.0.2.dmg">TenBlogElectronApp-1.0.2.dmg</a></td>
<td align="left">89868FD84045A1BADEF8CC32B4F75D1281687F4665F740F56F0EDC7DE55C6153</td>
</tr>
<tr>
<td>Windows Setup</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogElectronApp-1.0.2-Setup.exe">TenBlogElectronApp_Setup-1.0.2.exe</a></td>
<td align="left">9982272C04BD4321CA6A7315F9F3E2B9D9AE45CB589699E5953FB6AD74F84FA7</td>
</tr>
<tr>
<td>Windows UWP</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogUwpApp-1.0.2.7z">TenBlogUwpApp_1.0.2.0.7z</a></td>
<td align="left">7F5FE4914696816E88C51751D1CDA15D94D51B87D8D4B6AD865BAC325F636E36</td>
</tr>
<tr>
<td>Windows WPF x64</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogWpfApp-1.0.2-win-x64.7z">TenBlogWpfApp-1.0.2-win-x64.7z</a></td>
<td align="left">11B9F34E7569ACCE7526AF43033364386C8F8C48BBDDA985F9EC2FC3B7EB04FC</td>
</tr>
<tr>
<td>Windows WPF x86</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogWpfApp-1.0.2-win-x86.7z">TenBlogWpfApp-1.0.2-win-x86.7z</a></td>
<td align="left">69B1FD64DE25F1ECB5E071E867F6608888C7811763D76AFECCA479482979797A</td>
</tr>
<tr>
<td>Android APK</td>
<td align="left"><a href="https://github.com/TanWucheng/TenBlogClients/releases/download/1.0.2/TenBlogDroidApp-1.0.2.apk">TenBlogDroidApp-1.0.2.apk</a></td>
<td align="left">0D509D2FE74BF9CE82C66C283907628B45C8AC2EEA980E927BF4588DF9777FED</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Statement</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>获取GitHub代码仓库最新Release信息</title>
    <url>/2021/04/10/%E8%8E%B7%E5%8F%96GitHub%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E6%9C%80%E6%96%B0Release%E4%BF%A1%E6%81%AF/</url>
    <content><![CDATA[<h2 id="请求-GitHub-REST-API，获取指定代码仓库的最新软件包发布信息"><a href="#请求-GitHub-REST-API，获取指定代码仓库的最新软件包发布信息" class="headerlink" title="请求 GitHub REST API，获取指定代码仓库的最新软件包发布信息"></a>请求 GitHub REST API，获取指定代码仓库的最新软件包发布信息</h2><ul>
<li>  <a href="https://docs.github.com/en/rest/reference/repos">GitHub Repositories REST API</a></li>
<li>  <a href="https://docs.github.com/en/rest/reference/repos#releases">GitHub Repositories Release REST API</a></li>
</ul>
<p>下面以 Microsoft Powershell 为例，Powershell 终端的仓库地址为<a href="https://github.com/PowerShell/PowerShell">https://github.com/PowerShell/PowerShell</a>，根据 GitHub REST API 文档，获取最新发布版本信息的 URL 格式为<a href="https://docs.github.com/en/rest/reference/repos#releases">https://api.github.com/repos/拥有者/代码仓库/releases/latest</a>，则 Powershell 最新发布版本信息的 URL 是<a href="https://api.github.com/repos/PowerShell/PowerShell/releases/latest">https://api.github.com/repos/PowerShell/PowerShell/releases/latest</a>，请求此网址会返回如下 JSON 信息(有删减)</p>
<span id="more"></span>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/repos/PowerShell/PowerShell/releases/39686910&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;assets_url&quot;</span>: <span class="string">&quot;https://api.github.com/repos/PowerShell/PowerShell/releases/39686910/assets&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;upload_url&quot;</span>: <span class="string">&quot;https://uploads.github.com/repos/PowerShell/PowerShell/releases/39686910/assets&#123;?name,label&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;html_url&quot;</span>: <span class="string">&quot;https://github.com/PowerShell/PowerShell/releases/tag/v7.1.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;id&quot;</span>: <span class="number">39686910</span>,</span><br><span class="line">    <span class="attr">&quot;author&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;login&quot;</span>: <span class="string">&quot;rjmholt&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="number">7009879</span>,</span><br><span class="line">        <span class="attr">&quot;node_id&quot;</span>: <span class="string">&quot;MDQ6VXNlcjcwMDk4Nzk=&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;avatar_url&quot;</span>: <span class="string">&quot;https://avatars.githubusercontent.com/u/7009879?v=4&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;gravatar_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;html_url&quot;</span>: <span class="string">&quot;https://github.com/rjmholt&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;followers_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/followers&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;following_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/following&#123;/other_user&#125;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;gists_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/gists&#123;/gist_id&#125;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;starred_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/starred&#123;/owner&#125;&#123;/repo&#125;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;subscriptions_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/subscriptions&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;organizations_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/orgs&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;repos_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/repos&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/events&#123;/privacy&#125;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;received_events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/received_events&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;User&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;site_admin&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;node_id&quot;</span>: <span class="string">&quot;MDc6UmVsZWFzZTM5Njg2OTEw&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;tag_name&quot;</span>: <span class="string">&quot;v7.1.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;target_commitish&quot;</span>: <span class="string">&quot;master&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;v7.1.3 Release of PowerShell&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;draft&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;prerelease&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;created_at&quot;</span>: <span class="string">&quot;2021-03-11T23:29:12Z&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;published_at&quot;</span>: <span class="string">&quot;2021-03-11T23:29:58Z&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;assets&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/repos/PowerShell/PowerShell/releases/assets/33348893&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">33348893</span>,</span><br><span class="line">            <span class="attr">&quot;node_id&quot;</span>: <span class="string">&quot;MDEyOlJlbGVhc2VBc3NldDMzMzQ4ODkz&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;powershell-7.1.3-1.centos.8.x86_64.rpm&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;uploader&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;login&quot;</span>: <span class="string">&quot;rjmholt&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;id&quot;</span>: <span class="number">7009879</span>,</span><br><span class="line">                <span class="attr">&quot;node_id&quot;</span>: <span class="string">&quot;MDQ6VXNlcjcwMDk4Nzk=&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;avatar_url&quot;</span>: <span class="string">&quot;https://avatars.githubusercontent.com/u/7009879?v=4&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;gravatar_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;html_url&quot;</span>: <span class="string">&quot;https://github.com/rjmholt&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;followers_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/followers&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;following_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/following&#123;/other_user&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;gists_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/gists&#123;/gist_id&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;starred_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/starred&#123;/owner&#125;&#123;/repo&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;subscriptions_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/subscriptions&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;organizations_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/orgs&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;repos_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/repos&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/events&#123;/privacy&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;received_events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/received_events&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;User&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;site_admin&quot;</span>: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;content_type&quot;</span>: <span class="string">&quot;application/x-msdownload&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;uploaded&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;size&quot;</span>: <span class="number">67749060</span>,</span><br><span class="line">            <span class="attr">&quot;download_count&quot;</span>: <span class="number">6943</span>,</span><br><span class="line">            <span class="attr">&quot;created_at&quot;</span>: <span class="string">&quot;2021-03-11T23:00:12Z&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;updated_at&quot;</span>: <span class="string">&quot;2021-03-11T23:00:14Z&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;browser_download_url&quot;</span>: <span class="string">&quot;https://github.com/PowerShell/PowerShell/releases/download/v7.1.3/powershell-7.1.3-1.centos.8.x86_64.rpm&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/repos/PowerShell/PowerShell/releases/assets/33348883&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">33348883</span>,</span><br><span class="line">            <span class="attr">&quot;node_id&quot;</span>: <span class="string">&quot;MDEyOlJlbGVhc2VBc3NldDMzMzQ4ODgz&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;powershell_7.1.3-1.ubuntu.20.04_amd64.deb&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;uploader&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;login&quot;</span>: <span class="string">&quot;rjmholt&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;id&quot;</span>: <span class="number">7009879</span>,</span><br><span class="line">                <span class="attr">&quot;node_id&quot;</span>: <span class="string">&quot;MDQ6VXNlcjcwMDk4Nzk=&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;avatar_url&quot;</span>: <span class="string">&quot;https://avatars.githubusercontent.com/u/7009879?v=4&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;gravatar_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;html_url&quot;</span>: <span class="string">&quot;https://github.com/rjmholt&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;followers_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/followers&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;following_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/following&#123;/other_user&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;gists_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/gists&#123;/gist_id&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;starred_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/starred&#123;/owner&#125;&#123;/repo&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;subscriptions_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/subscriptions&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;organizations_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/orgs&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;repos_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/repos&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/events&#123;/privacy&#125;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;received_events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/rjmholt/received_events&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;User&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;site_admin&quot;</span>: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;content_type&quot;</span>: <span class="string">&quot;application/x-msdownload&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;uploaded&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;size&quot;</span>: <span class="number">68316948</span>,</span><br><span class="line">            <span class="attr">&quot;download_count&quot;</span>: <span class="number">2174</span>,</span><br><span class="line">            <span class="attr">&quot;created_at&quot;</span>: <span class="string">&quot;2021-03-11T23:00:09Z&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;updated_at&quot;</span>: <span class="string">&quot;2021-03-11T23:00:11Z&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;browser_download_url&quot;</span>: <span class="string">&quot;https://github.com/PowerShell/PowerShell/releases/download/v7.1.3/powershell_7.1.3-1.ubuntu.20.04_amd64.deb&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;tarball_url&quot;</span>: <span class="string">&quot;https://api.github.com/repos/PowerShell/PowerShell/tarball/v7.1.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;zipball_url&quot;</span>: <span class="string">&quot;https://api.github.com/repos/PowerShell/PowerShell/zipball/v7.1.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;body&quot;</span>: <span class="string">&quot;## [7.1.3] - 2021-03-11\r\n\r\n### Engine Updates and Fixes\r\n\r\n- Remove the 32K character limit on the environment block for `Start-Process` (#14111)\r\n- Fix webcmdlets to properly construct URI from body when using `-NoProxy` (#14673)\r\n\r\n### General Cmdlet Updates and Fixes\r\n\r\n- Fix `PromptForCredential()` to add `targetName` as domain (#14504)\r\n\r\n### Build and Packaging Improvements\r\n\r\n&lt;details&gt;\r\n\r\n&lt;summary&gt;\r\n\r\nBump .NET SDK to 5.0.4\r\n\r\n&lt;/summary&gt;\r\n\r\n&lt;ul&gt;\r\n&lt;li&gt;Bump .NET SDK to 5.0.4 (Internal 14775)&lt;/li&gt;\r\n&lt;li&gt;Disable running markdown link verification in release build CI (#14971, #14974, #14975)&lt;/li&gt;\r\n&lt;li&gt;Use template that disables component governance for CI (#14938)&lt;/li&gt;\r\n&lt;li&gt;Declare which variable group is used for checking the blob in the release build (#14970)&lt;/li&gt;\r\n&lt;li&gt;Add suppress for nuget multi-feed warning (#14893)&lt;/li&gt;\r\n&lt;li&gt;Disable code signing validation where the file type is not supported (#14885)&lt;/li&gt;\r\n&lt;li&gt;Install wget on &lt;code&gt;CentOS&lt;/code&gt; 7 docker image (#14857)&lt;/li&gt;\r\n&lt;li&gt;Fix install-dotnet download (#14856)&lt;/li&gt;\r\n&lt;li&gt;Make universal Deb package based on deb package spec (#14681)&lt;/li&gt;\r\n&lt;li&gt;Fix release build to upload global tool packages to artifacts (#14620)&lt;/li&gt;\r\n&lt;li&gt;Update &lt;code&gt;ini&lt;/code&gt; component version in test &lt;code&gt;package.json&lt;/code&gt; (#14454)&lt;/li&gt;\r\n&lt;li&gt;Add manual release automation steps and improve changelog script (#14445)&lt;/li&gt;\r\n&lt;li&gt;Update markdown test packages with security fixes (#14145)&lt;/li&gt;\r\n&lt;li&gt;Fix a typo in the &lt;code&gt;Get-ChangeLog&lt;/code&gt; function (#14129)&lt;/li&gt;\r\n&lt;li&gt;Disable global tool copy to unblock release&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;/details&gt;\r\n\r\n[7.1.3]: https://github.com/PowerShell/PowerShell/compare/v7.1.2...v7.1.3\r\n\r\n### SHA256 Hashes of the release artifacts\r\n\r\n- powershell_7.1.3-1.debian.10_amd64.deb\r\n  - 128F84AE66CD37443C72337DFEFEB586D6100FD1D125A6DC41589FFACA406EAF\r\n- powershell_7.1.3-1.debian.11_amd64.deb\r\n  - 0CF96A987B82C01C3D3B1C74A7A66F399AA86547DD70564E0405D214A54D1DB5\r\n- powershell_7.1.3-1.debian.9_amd64.deb\r\n  - ED11525B2991ACE03B594FED91F46AC3A5BE9948765AA8E5382EEFBF4651FEC6\r\n- powershell_7.1.3-1.ubuntu.16.04_amd64.deb\r\n  - DFA2AC5B01D0734238FE971A38CBE47D453492291B9B2271CA9E0F4031367DE1\r\n- powershell_7.1.3-1.ubuntu.18.04_amd64.deb\r\n  - 5D7867407FC509D45E7D2163CBE42A3C2AA1C1F03E38A35DF077E6D0D9439AAD\r\n- powershell_7.1.3-1.ubuntu.20.04_amd64.deb\r\n  - ED800C0E58560D6A4F743E68083F8B46BEF29670917C250157AA2C1170A6E502\r\n- powershell-7.1.3-1.centos.8.x86_64.rpm\r\n  - 11112500FC436CD8575BED59872A8328BA54232956C775DD275B06F4E91AFA31\r\n- powershell-7.1.3-1.rhel.7.x86_64.rpm\r\n  - DC0BE83C7ABA8A1BE0F27D1AF682AC29F0B1B0E77B6C3BB20E5B91584C57C365\r\n- powershell-7.1.3-linux-alpine-x64.tar.gz\r\n  - F291DA2E2CC29C20583017814B4C1B9E10B43D6DB9ADDB1BF0B8C1171E3A4569\r\n- powershell-7.1.3-linux-arm32.tar.gz\r\n  - DB47E8DF58FA1509FCFE34BD5A351F0DF315F995B7D48F1EA8DD1F71AA0F2D5E\r\n- powershell-7.1.3-linux-arm64.tar.gz\r\n  - B4ECB166EBBD7232CDF2ED3CC84D90FF1A01E62F5307EB58868697CA6CB3B4A2\r\n- powershell-7.1.3-linux-x64.tar.gz\r\n  - 9F853FB8F7C7719005BD1054FA13CA4D925C519B893F439DD2574E84503E6A85\r\n- powershell-7.1.3-linux-x64-fxdependent.tar.gz\r\n  - BBC21CD4F0A1AA50870965FC2A6217897A0736D73B815EA0244E8229A20D97E5\r\n- powershell-7.1.3-osx-x64.pkg\r\n  - 6E889BC771463555F8639AA3B40E9D571CE365E1C442380EE361189575B27B0F\r\n- powershell-7.1.3-osx-x64.tar.gz\r\n  - 5DF00EC5AE7F31248DE726921B2A3D38BDEBAAC889F97A375559B7AC43E60C56\r\n- PowerShell-7.1.3-win-arm32.zip\r\n  - 3928C7BDF7B62CD6ADB19F78CA92F928B85E2099692270F55BB4FBBD0616EF74\r\n- PowerShell-7.1.3-win-arm64.zip\r\n  - 1CBA41A2ECFE7745D376EFDE14499DB59496455EBCB658C743A6297AF11CED38\r\n- PowerShell-7.1.3-win-fxdependent.zip\r\n  - D177C028F56982E72ECA0AF3068040035561B7DA67467976CF4579CDC0AF1B83\r\n- PowerShell-7.1.3-win-fxdependentWinDesktop.zip\r\n  - 234EB61C87495A776C8E66B8A67F868AD95C876E0173A886F02E0DE0197E513F\r\n- PowerShell-7.1.3-win-x64.msi\r\n  - 459642D8B6D69F643794DF8394F28191F43E5ED35472899C4F0D8424F6D1317C\r\n- PowerShell-7.1.3-win-x64.zip\r\n  - 47475F1D4015704F3FB5F6D2CF61196D121ABA60C19592B04BE818317CE01039\r\n- PowerShell-7.1.3-win-x86.msi\r\n  - 7CEB1203D2C4A6D7C28128C9CBC8282EAF9C237FEE238930C16382F2C0C731EC\r\n- PowerShell-7.1.3-win-x86.zip\r\n  - ECFD51545084D9B791874062C39EB0C7C7DD2991265EE7F4DC5064995A614E6C\r\n&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他信息详细含义请查阅 GitHub 文档，这里只关心跟软件更新相关的两个信息，一个第一级 JSON 对象的<strong>tag_name</strong>和<strong>assets</strong>数组，<strong>tag_name</strong>是当前软件包的最新发布版本，<strong>assets</strong>数组的每一个子项是不同打包方式不同操作系统平台的软件包信息，比如 Powershell v7.1.3 就有 23 个不同操作系统平台的发布软件包，上述列出的删减 JSON 的<strong>assets</strong>数组有两个软件包，一个是针对使用 dnf 软件包管理器 Linux RPM 软件包，另一个是针对使用 apt 软件包管理器的 Linux DEB 软件包，<strong>assets</strong>数组子项的<strong>browser_download_url</strong>就是软件包的实际文件下载 URL。</p>
<p>拥有以上关键信息，不同平台使用不同工具反序列化 GitHub REST API 返回的 JSON，就能实现软件更新和下载。</p>
]]></content>
      <categories>
        <category>Github</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Android使用WebView渲染HTML页面</title>
    <url>/2021/03/27/Android%E4%BD%BF%E7%94%A8WebView%E6%B8%B2%E6%9F%93HTML%E9%A1%B5%E9%9D%A2/</url>
    <content><![CDATA[<h2 id="使用-WebView-加载远程网页或者渲染本地-HTML-文件"><a href="#使用-WebView-加载远程网页或者渲染本地-HTML-文件" class="headerlink" title="使用 WebView 加载远程网页或者渲染本地 HTML 文件"></a>使用 WebView 加载远程网页或者渲染本地 HTML 文件</h2><p>笔者开发的本站安卓客户端使用 WebView 浏览博客文章详情，最开始尝试系统默认 WebView，在加载博文 HTML 页面时频繁发生崩溃闪退，网上搜集解决方法，发现使用腾讯 X5 内核 WebView 替代系统 WebView 的解决方式，以下是一些参考资料</p>
<ul>
<li>  <a href="https://developer.android.google.cn/guide/webapps/webview?hl=zh-cn">在 WebView 中编译 Web 应用</a></li>
<li>  <a href="https://docs.microsoft.com/zh-cn/xamarin/android/user-interface/controls/web-view">Xamarin Android Web 视图</a></li>
<li>  <a href="https://x5.tencent.com/docs/webview.html">腾讯 X5 内核 WebView API 文档</a></li>
<li>  <a href="https://github.com/jingliancui/XamarinFormsTencentX5Sample">Xamarin.Forms Android 使用腾讯 X5 内核 WebView</a></li>
</ul>
]]></content>
      <categories>
        <category>.NET For Android</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Android 11根据包名查找是否安装第三方应用</title>
    <url>/2021/03/18/Android11%E6%A0%B9%E6%8D%AE%E5%8C%85%E5%90%8D%E6%9F%A5%E6%89%BE%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Android-11-中的软件包可见性"><a href="#Android-11-中的软件包可见性" class="headerlink" title="Android 11 中的软件包可见性"></a>Android 11 中的软件包可见性</h2><blockquote>
<p>关于Android 11 中权限的变更请阅读谷歌官方的两篇文章: <a href="https://developer.android.com/about/versions/11/privacy/package-visibility?hl=zh-cn">package-visibility</a>和<a href="https://developer.android.com/training/basics/intents/package-visibility?hl=zh-cn">查询特定软件包</a></p>
</blockquote>
<p>比如要查询是否安装国内一些常见 App，在<strong>AndroidManifest.xml</strong>中添加如下内容</p>
<span id="more"></span>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">package</span>=<span class="string">&quot;com.example.game&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">queries</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.DIAL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 微信支付SDK --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.tencent.mm&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 支付宝支付SDK --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.eg.android.AlipayGphone&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 微博 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.sina.weibo&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- QQ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.tencent.mobileqq&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 高德地图 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.autonavi.minimap&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 百度地图 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.baidu.BaiduMap&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 腾讯地图 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">android:name</span>=<span class="string">&quot;com.tencent.map&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">queries</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Other Content--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>.NET 代码</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">PlatformUtils</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">string</span> WeChatPackage = <span class="string">&quot;com.tencent.mm&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">IsInstallApp</span>(<span class="params">Context context, <span class="built_in">string</span> packageName</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//IList&lt;PackageInfo&gt; packages = context.PackageManager.GetInstalledPackages(0);</span></span><br><span class="line">        <span class="keyword">var</span> packages = GetPackageList(context);</span><br><span class="line">        <span class="keyword">return</span> packages.Count(x =&gt; x.PackageName == packageName) &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IEnumerable&lt;PackageInfo&gt; <span class="title">GetPackageList</span>(<span class="params">Context context</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (context.PackageManager != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">var</span> packageInfos = context.PackageManager.GetInstalledPackages(PackageInfoFlags.Activities |</span><br><span class="line">                    PackageInfoFlags.Services);</span><br><span class="line">                <span class="keyword">return</span> packageInfos.ToList();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Java.Lang.Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.PrintStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> List&lt;PackageInfo&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; <span class="title">GetPackageNameList</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        List&lt;<span class="built_in">string</span>&gt; packages = <span class="keyword">new</span>();</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> p = Runtime.GetRuntime()?.Exec(<span class="string">&quot;pm list packages&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (p != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                InputStreamReader isr = <span class="keyword">new</span>(p.InputStream, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                BufferedReader br = <span class="keyword">new</span>(isr);</span><br><span class="line">                <span class="keyword">var</span> line = br.ReadLine();</span><br><span class="line">                <span class="keyword">while</span> (line != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    line = line.Trim();</span><br><span class="line">                    <span class="keyword">if</span> (line.Length &gt; <span class="number">8</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">var</span> prefix = line.Substring(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line">                        <span class="keyword">if</span> (prefix.Equals(<span class="string">&quot;package:&quot;</span>, StringComparison.OrdinalIgnoreCase))</span><br><span class="line">                        &#123;</span><br><span class="line">                            line = line[<span class="number">8.</span>.].Trim();</span><br><span class="line">                            <span class="keyword">if</span> (!TextUtils.IsEmpty(line))</span><br><span class="line">                            &#123;</span><br><span class="line">                                packages.Add(line);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    line = br.ReadLine();</span><br><span class="line">                &#125;</span><br><span class="line">                br.Close();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            p?.Destroy();</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Java.Lang.Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.PrintStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> packages;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>.NET For Android</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Ten&#39;s Blog客户端开发前言</title>
    <url>/2021/03/07/TenBlog%E5%AE%89%E5%8D%93%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91%E5%89%8D%E8%A8%80/</url>
    <content><![CDATA[<h2 id="一些-UI-问题解决方法"><a href="#一些-UI-问题解决方法" class="headerlink" title="一些 UI 问题解决方法"></a>一些 UI 问题解决方法</h2><h3 id="解决安卓虚拟导航栏遮挡-Activity-根视图"><a href="#解决安卓虚拟导航栏遮挡-Activity-根视图" class="headerlink" title="解决安卓虚拟导航栏遮挡 Activity 根视图"></a>解决安卓虚拟导航栏遮挡 Activity 根视图</h3><ol>
<li>Activity 布局根节点设置<strong>fitsSystemWindows</strong>=<strong>true</strong>，这个加在哪个布局，该布局就会相应的向上（配置 A）或者向下（配置 B）或者向上下（同时配置 AB）扩展</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/root_layout&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@color/colorPrimary&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Content--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<ol start="2">
<li>Activity 代码设定状态栏和导航栏以扩展形式而非堆叠形式占据界面</li>
</ol>
<p><strong>Java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span>&#123;</span><br><span class="line">    setContentView(R.layout.activity_main)</span><br><span class="line">    <span class="comment">// 状态栏 @ 顶部</span></span><br><span class="line">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);<span class="comment">//A</span></span><br><span class="line">    <span class="comment">// 导航栏 @ 底部</span></span><br><span class="line">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);<span class="comment">//B</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>.NET</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnCreate</span>(<span class="params">Bundle savedInstanceState</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    SetContentView(Resource.Layout.activity_main);</span><br><span class="line">    <span class="comment">// 状态栏 @ 顶部</span></span><br><span class="line">    Window.AddFlags(WindowManagerFlags.TranslucentStatus);</span><br><span class="line">    <span class="comment">// 导航栏 @ 底部</span></span><br><span class="line">    Window.AddFlags(WindowManagerFlags.TranslucentNavigation);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CoordinatorLayout-布局里-FloatingActionButton-和-Snackbar-联动位置自动调整"><a href="#CoordinatorLayout-布局里-FloatingActionButton-和-Snackbar-联动位置自动调整" class="headerlink" title="CoordinatorLayout 布局里 FloatingActionButton 和 Snackbar 联动位置自动调整"></a>CoordinatorLayout 布局里 FloatingActionButton 和 Snackbar 联动位置自动调整</h3><ul>
<li>  CoordinatorLayout 各种与其他 Widget 联动使用教程参照<a href="https://www.jianshu.com/p/4a77ae4cd82f">简书</a></li>
<li>  Snackbar 官方 API 文档请查阅<a href="https://developer.android.google.cn/reference/com/google/android/material/snackbar/Snackbar?hl=zh-cn">Google Developer</a></li>
</ul>
<p>简单布局</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line">&lt;androidx.coordinatorlayout.widget.CoordinatorLayout</span><br><span class="line">	xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">	xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">	xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">	android:layout_width=&quot;match_parent&quot;</span><br><span class="line">	android:layout_height=&quot;match_parent&quot;</span><br><span class="line">	android:background=&quot;@color/colorWhite&quot;</span><br><span class="line">	tools:showIn=&quot;@layout/activity_main&quot;</span><br><span class="line">	tools:context=&quot;TenBlogDroidApp.MainActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">	&lt;com.google.android.material.appbar.AppBarLayout</span><br><span class="line">		android:layout_width=&quot;match_parent&quot;</span><br><span class="line">		android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">		android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;</span><br><span class="line"></span><br><span class="line">		&lt;androidx.appcompat.widget.Toolbar</span><br><span class="line">			android:id=&quot;@+id/toolbar&quot;</span><br><span class="line">			android:layout_width=&quot;match_parent&quot;</span><br><span class="line">			android:layout_height=&quot;?attr/actionBarSize&quot;</span><br><span class="line">			android:background=&quot;?attr/colorPrimary&quot;</span><br><span class="line">			app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">com.google.android.material.appbar.AppBarLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	&lt;include</span><br><span class="line">		layout=&quot;@layout/content_default&quot; /&gt;</span><br><span class="line"></span><br><span class="line">	&lt;com.google.android.material.floatingactionbutton.FloatingActionButton</span><br><span class="line">		android:id=&quot;@+id/fab&quot;</span><br><span class="line">		android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">		android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">		android:layout_gravity=&quot;bottom|end&quot;</span><br><span class="line">		android:layout_margin=&quot;@dimen/fab_margin&quot;</span><br><span class="line">		android:scaleType=&quot;center&quot;</span><br><span class="line">		app:elevation=&quot;@dimen/dp_10&quot;</span><br><span class="line">		app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>初始界面<br><img src="http://i1.fuimg.com/734144/4c6a8dbf96ada12d.png" alt="FloatingActionButton和Snackbar联动初始"><br>点击 FloatingActionButton 展示 Snackbar<br><img src="http://i1.fuimg.com/734144/9dedad1db49ccc09.png" alt="FloatingActionButton和Snackbar联动点击"></p>
]]></content>
      <categories>
        <category>.NET For Android</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Razor组件加载完毕如何执行回调</title>
    <url>/2021/03/03/Razor%E7%BB%84%E4%BB%B6%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%AF%95%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E5%9B%9E%E8%B0%83/</url>
    <content><![CDATA[<h2 id="Razor-组件加载完毕如何执行回调？"><a href="#Razor-组件加载完毕如何执行回调？" class="headerlink" title="Razor 组件加载完毕如何执行回调？"></a>Razor 组件加载完毕如何执行回调？</h2><blockquote>
<p>参考<a href="https://stackoverflow.com/questions/61551404/in-blazor-how-to-call-a-function-at-page-load-event-name" target="_blank">StackOverflow</a></p>
</blockquote>
<span id="more"></span>

<p><strong><em>1.重写 Razor 组件的 OnInitializedAsync()方法</em></strong></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">@code &#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SomeStartupMethod</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// Do Some Work</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Task <span class="title">SomeStartupTask</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// Do some task based work</span></span><br><span class="line">        <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">async</span> Task <span class="title">OnInitializedAsync</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        SomeStartupMethod();</span><br><span class="line">        <span class="keyword">await</span> SomeStartupTask();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><em>2.重写 Razor 组件的 OnAfterRender()方法</em></strong></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">@code&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnAfterRender</span>(<span class="params"><span class="built_in">bool</span> firstRender</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// execute conditionally for loading data, otherwise this will load</span></span><br><span class="line">        <span class="comment">// every time the page refreshes</span></span><br><span class="line">        <span class="keyword">if</span>(firstRender)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Do work to load page data and set properties</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>.NET</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>Blazor</tag>
      </tags>
  </entry>
  <entry>
    <title>论语十则</title>
    <url>/2021/03/03/%E8%AE%BA%E8%AF%AD%E5%8D%81%E5%88%99/</url>
    <content><![CDATA[<p>论语十则及其翻译</p>
<h2 id="《论语十则》"><a href="#《论语十则》" class="headerlink" title="《论语十则》"></a>《论语十则》</h2><h3 id="作者：孔子及其弟子"><a href="#作者：孔子及其弟子" class="headerlink" title="作者：孔子及其弟子"></a>作者：孔子及其弟子</h3><ol>
<li><p>子曰：“<strong>学而时习之，不亦说乎？有朋自远方来，不亦乐乎？人不知而不愠，不亦君子乎？</strong>”（《学而》）</p>
<p> 翻译：孔子说：“学习知识并且按时温习它，不也是令人高兴的事吗？有朋友从远方来（交流、学习），不也是令人快乐的事吗？别人不了解自己也不怨恨，不正是品德高尚的人吗？”</p>
</li>
</ol>
<span id="more"></span>

<ol start="2">
<li><p>曾子曰：“<strong>吾日三省吾身：为人谋而不忠乎？与朋友交而不信乎？传不习乎？</strong>”（《学而》）</p>
<p> 翻译：曾子说：“我每天多次地反省自己：替别人办事是不是尽心尽力呢？跟朋友交往是不是真诚，诚实呢？老师传授的知识是否复习过了呢？”</p>
</li>
<li><p>子曰：“<strong>温故而知新，可以为师矣。</strong>”（《为政》）</p>
<p> 翻译：曾子说：“我每天反复检查我的行为：为人处事有不真诚的事吗？与朋友交往有不诚实的事吗？老师教授的知识有不复习的吗？” 孔子说：“复习旧的知识从而知道新的知识，可以凭借这个成为老师了。”</p>
</li>
<li><p>子曰：“<strong>学而不思则罔，思而不学则殆。</strong>”（《为政》）</p>
<p> 翻译：孔子说：“只读书却不认真思考，就会迷惑；只空想而不读书，就会疑惑。”</p>
</li>
<li><p>子曰：“<strong>由，诲汝知之乎！知之为知之，不知为不知，是知也。</strong>”（《为政》）</p>
<p> 翻译：孔子说：“仲由，教给你的理解了吗？懂得就是懂得，不懂就是不懂，这也是聪明啊。”</p>
</li>
<li><p>子曰：“<strong>见贤思齐焉，见不贤而内自省也。</strong>”（《里仁》）</p>
<p> 翻译：孔子说：“见到贤人就要向他学习，希望能达到他的水平，见到不好的人就要自我反省。”</p>
</li>
<li><p>子曰：“<strong>三人行，必有我师焉。择其善者而从之，其不善者而改之。</strong>”（《述而》）</p>
<p> 翻译：孔子说：“三个人一起走，其中必定有可以做我老师的人，学习他的优点，如果自己也有他的缺点就加以改正。”</p>
</li>
<li><p>曾子曰：“<strong>士不可以不弘毅，任重而道远。仁以为己任，不亦重乎？死而后已，不亦远乎？</strong>”（《泰伯》）</p>
<p> 翻译：曾子说：“有抱负的人不可以不胸怀宽广，意志坚定，因为他肩负着重大的使命（或责任），路途又很遥远。把实现‘仁’的理想看作自己的使命，不也很重大吗？直到死才停止，这不也是很遥远吗？”</p>
</li>
<li><p>子曰：“<strong>岁寒，然后知松柏之后凋也。</strong>”（《子罕》）</p>
<p> 翻译：孔子说：“年末天气寒冷，这时才能知道松柏是最后凋零的。”</p>
</li>
<li><p>子贡问曰：“<strong>有一言而可以终身行之者乎？” 子曰：“其恕乎！己所不欲，勿施于人。</strong>”（《卫灵公》）</p>
<p>解释：子贡问孔子：“有没有一句忠言可以一生受用遵循的呢？” 孔子说：“也许就是仁爱待人！自己所不愿要的，不要强加到别人身上。”</p>
</li>
</ol>
]]></content>
      <categories>
        <category>杂谈</category>
      </categories>
      <tags>
        <tag>谚语</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO笔记⑥-Hexo博客NexT主题一些常用客制化修改</title>
    <url>/2021/03/03/6.Hexo%E5%8D%9A%E5%AE%A2NexT%E4%B8%BB%E9%A2%98%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E5%AE%A2%E5%88%B6%E5%8C%96%E4%BF%AE%E6%94%B9/</url>
    <content><![CDATA[<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li>  修改文章内链接文本样式、</li>
<li>  修改底部标签样式</li>
<li>  主页文章添加阴影效果</li>
<li>  显示文章结束标记</li>
<li>  网站底部加上访问量</li>
<li>  网站底部字数统计</li>
<li>  实现文章统计功能</li>
<li>  添加 AddThis 分享</li>
<li>  在文章底部增加版权信息</li>
<li>  添加外链网易云音乐</li>
</ul>
<blockquote>
<p>参照<a href="https://www.jianshu.com/p/9f0e90cc32c2">简书</a></p>
</blockquote>
<h3 id="修改文章内链接文本样式"><a href="#修改文章内链接文本样式" class="headerlink" title="修改文章内链接文本样式"></a>修改文章内链接文本样式</h3><p>修改<strong>themes/next/source/css/_common/components/post/post.styl</strong>，在末尾添加如下 css 样式</p>
<span id="more"></span>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 文章内链接文本样式 */</span></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="comment">/* 原始链接颜色 */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="comment">/* 底部分割线颜色 */</span></span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="comment">/* 鼠标经过颜色 */</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">        <span class="attribute">border-bottom</span>: none;</span><br><span class="line">        <span class="comment">/* 底部分割线颜色 */</span></span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="修改底部标签样式"><a href="#修改底部标签样式" class="headerlink" title="修改底部标签样式"></a>修改底部标签样式</h3><p>修改 NexT 主题的_config.yml 文件，修改<strong>tag_icon</strong>节点值为<strong>true</strong>，即可启用<strong>fa fa-tag</strong>标签图标</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">tag_icon:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h3><p>在文件<strong>themes/next/source/css/_common/components/post/post.styl</strong>中，找到.post-block 处，修改 if 判断成立时里面 css 样式如下</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 主页文章添加阴影效果 */</span></span><br><span class="line"><span class="selector-class">.post-block</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* margin-top: 30px; */</span></span><br><span class="line">    <span class="comment">/* margin-bottom: 30px; */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, <span class="number">0.5</span>);</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, <span class="number">0.5</span>);</span><br><span class="line">    -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pagination</span>,</span><br><span class="line"><span class="selector-class">.comments</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="显示文章结束标记"><a href="#显示文章结束标记" class="headerlink" title="显示文章结束标记"></a>显示文章结束标记</h3><ul>
<li>  在<strong>themes/next/layout/_macro</strong>路径下新建文件<strong>passage-end-tag.swig</strong>，输入一下内容</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;color: #ccc;font-size:14px;&quot;</span>&gt;</span></span><br><span class="line">        -------------本文结束<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-paw&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢您的阅读-------------</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  修改<strong>NexT</strong>主题目录下文件<strong>themes/next/layout/_macro/_post.swig</strong>，在<strong>END POST BODY</strong>后面添加如下文章结束标记</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125; &#123;% include &#x27;passage-end-tag.swig&#x27; %&#125; &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="网站底部加上访问量"><a href="#网站底部加上访问量" class="headerlink" title="网站底部加上访问量"></a>网站底部加上访问量</h3><ul>
<li>  修改<strong>themes/next/layout/_partials/footer.swig</strong>文件，在<strong>copyright</strong>处加上<a href="http://busuanzi.ibruce.info/">不蒜子</a>网页计数器</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">    async</span><br><span class="line">    src=&quot;//cdn.jsdelivr.net/gh/sukkaw/busuanzi@2.3/bsz.pure.mini.js&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  在底部与<strong>powered-by</strong>前面添加访问量显示</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;powered-by&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-user-md&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_container_site_uv&quot;</span>&gt;</span></span><br><span class="line">        本站访客数:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_uv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-divider&quot;</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--pv的方式，单个用户连续点击n篇文章，记录n次访问量--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_container_site_pv&quot;</span>&gt;</span></span><br><span class="line">    本站总访问量<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_pv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--uv的方式，单个用户连续点击n篇文章，只记录1次访客数--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_container_site_uv&quot;</span>&gt;</span></span><br><span class="line">    本站总访问量<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_uv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="网站底部字数统计"><a href="#网站底部字数统计" class="headerlink" title="网站底部字数统计"></a>网站底部字数统计</h3><ul>
<li>  安装<strong>hexo-wordcount</strong>插件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure>

<ul>
<li>  在文件<strong>themes/next/layout/_partials/footer.swig</strong>末尾添加如下内容</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-divider&quot;</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;theme-info&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;powered-by&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-count&quot;</span>&gt;</span>博客全站共&#123;&#123; totalcount(site) &#125;&#125;字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="实现文章统计功能"><a href="#实现文章统计功能" class="headerlink" title="实现文章统计功能"></a>实现文章统计功能</h3><ul>
<li>  安装<code>hexo-symbols-count-time</code>插件，详细说明请查看<a href="https://github.com/theme-next/hexo-symbols-count-time">GitHub</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure>

<ul>
<li>  配置博客根目录下的<strong>_config.yml 添加</strong>文件节点<strong>symbols-count-time</strong>如下，开启文章统计功能</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">    <span class="attr">symbols:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">time:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">total_symbols:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">total_time:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">exclude_codeblock:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">awl:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">wpm:</span> <span class="number">275</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">&quot;mins.&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="添加-AddThis-分享"><a href="#添加-AddThis-分享" class="headerlink" title="添加 AddThis 分享"></a>添加 AddThis 分享</h3><p>修改<strong>NexT</strong>主题目录下面的<strong>themes/next/_config.yml</strong>文件，在<strong>add_this_id</strong>节点添加个人的<a href="https://www.addthis.com/">AddThis</a>注册 Id</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">add_this_id:</span> &#123; <span class="string">your_AddThis_pubid</span> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="在文章底部增加版权信息"><a href="#在文章底部增加版权信息" class="headerlink" title="在文章底部增加版权信息"></a>在文章底部增加版权信息</h3><p>找到 NexT 主题目录下的_config.yml 文件，修改节点<strong>creative_commons</strong>，启用文章版权信息说明</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">    <span class="attr">license:</span> <span class="string">by-nc-sa</span></span><br><span class="line">    <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure>

<h3 id="添加外链网易云音乐"><a href="#添加外链网易云音乐" class="headerlink" title="添加外链网易云音乐"></a>添加外链网易云音乐</h3><ul>
<li>  打开网易云音乐，选择自己创作的歌单生成外链播放器，得到以下 iframe 代码</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;iframe</span><br><span class="line">    frameborder=&quot;no&quot;</span><br><span class="line">    border=&quot;0&quot;</span><br><span class="line">    marginwidth=&quot;0&quot;</span><br><span class="line">    marginheight=&quot;0&quot;</span><br><span class="line">    width=&quot;330&quot;</span><br><span class="line">    height=&quot;110&quot;</span><br><span class="line">    src=&quot;//music.163.com/outchain/player?type=0&amp;id=818429766&amp;auto=1&amp;height=90&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  自定义一个网易云音乐外链播放器是否渲染配置项</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 自定义网易云音乐外链播放器是否渲染配置项</span></span><br><span class="line"><span class="attr">netease_music:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  根据上面渲染配置项是否开启，将网易云 iframe 代码贴在合适位置，比如文件<strong>themes/next/layout/_macro/sidebar.swig</strong>的<strong>sidebar-inner</strong>容器最下面</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;%- if theme.netease_music.enable %&#125;</span><br><span class="line">&lt;iframe</span><br><span class="line">    frameborder=&quot;no&quot;</span><br><span class="line">    border=&quot;0&quot;</span><br><span class="line">    marginwidth=&quot;0&quot;</span><br><span class="line">    marginheight=&quot;0&quot;</span><br><span class="line">    width=&quot;330&quot;</span><br><span class="line">    height=&quot;110&quot;</span><br><span class="line">    src=&quot;//music.163.com/outchain/player?type=0&amp;id=818429766&amp;auto=1&amp;height=90&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO笔记⑤-Hexo博客NexT主题开启站内搜索</title>
    <url>/2021/03/03/5.Hexo%E5%8D%9A%E5%AE%A2NexT%E4%B8%BB%E9%A2%98%E5%BC%80%E5%90%AF%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2/</url>
    <content><![CDATA[<h2 id="NexT-主题配置-Local-Search-开启站内搜索"><a href="#NexT-主题配置-Local-Search-开启站内搜索" class="headerlink" title="NexT 主题配置 Local Search 开启站内搜索"></a>NexT 主题配置 Local Search 开启站内搜索</h2><h3 id="安装-hexo-generator-search"><a href="#安装-hexo-generator-search" class="headerlink" title="安装 hexo-generator-search"></a>安装 hexo-generator-search</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="安装-hexo-generator-searchdb"><a href="#安装-hexo-generator-searchdb" class="headerlink" title="安装 hexo-generator-searchdb"></a>安装 hexo-generator-searchdb</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<h3 id="Hexo-博客根目录-config-yml-添加如下内容启用搜索"><a href="#Hexo-博客根目录-config-yml-添加如下内容启用搜索" class="headerlink" title="Hexo 博客根目录_config.yml 添加如下内容启用搜索"></a>Hexo 博客根目录_config.yml 添加如下内容启用搜索</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">    <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<h3 id="修改-NexT-主题根目录下的-config-yml-文件的-local-search-节点启用搜索"><a href="#修改-NexT-主题根目录下的-config-yml-文件的-local-search-节点启用搜索" class="headerlink" title="修改 NexT 主题根目录下的_config.yml 文件的 local_search 节点启用搜索"></a>修改 NexT 主题根目录下的_config.yml 文件的 local_search 节点启用搜索</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO笔记④-Hexo博客NexT主题设置RSS订阅</title>
    <url>/2021/03/03/4.Hexo%E5%8D%9A%E5%AE%A2NexT%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AERSS%E8%AE%A2%E9%98%85/</url>
    <content><![CDATA[<h2 id="安装-hexo-generator-feed-插件并开启-RSS-订阅"><a href="#安装-hexo-generator-feed-插件并开启-RSS-订阅" class="headerlink" title="安装 hexo-generator-feed 插件并开启 RSS 订阅"></a>安装 hexo-generator-feed 插件并开启 RSS 订阅</h2><h3 id="在项目根目录下安装-hexo-generator-feed"><a href="#在项目根目录下安装-hexo-generator-feed" class="headerlink" title="在项目根目录下安装 hexo-generator-feed"></a>在项目根目录下安装 hexo-generator-feed</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="修改项目根目录的-config-yml，插件添加-hexo-generator-feed，设置-feed-属性"><a href="#修改项目根目录的-config-yml，插件添加-hexo-generator-feed，设置-feed-属性" class="headerlink" title="修改项目根目录的_config.yml，插件添加 hexo-generator-feed，设置 feed 属性"></a>修改项目根目录的_config.yml，插件添加 hexo-generator-feed，设置 feed 属性</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Plugins:</span> <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="comment"># Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">hub:</span></span><br><span class="line">    <span class="attr">content:</span></span><br><span class="line">    <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">    <span class="attr">content_limit_delim:</span> <span class="string">&quot; &quot;</span></span><br><span class="line">    <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">/images/favicon_200x200.png</span></span><br></pre></td></tr></table></figure>

<h3 id="修改主题根目录的-config-yml，添加-RSS-订阅入口"><a href="#修改主题根目录的-config-yml，添加-RSS-订阅入口" class="headerlink" title="修改主题根目录的_config.yml，添加 RSS 订阅入口"></a>修改主题根目录的_config.yml，添加 RSS 订阅入口</h3><ul>
<li>  修改<strong>social</strong>节点，添加一行启用 RSS 图标</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">    <span class="comment"># 其他社交按钮</span></span><br><span class="line">    <span class="attr">RSS:</span> <span class="string">/atom.xml</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure>

<ul>
<li>  修改<strong>follow_me</strong>节点，开启 RSS 订阅入口</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">follow_me:</span></span><br><span class="line">    <span class="comment"># 其他社交按钮</span></span><br><span class="line">    <span class="attr">RSS:</span> <span class="string">/atom.xml</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO笔记③-使用Gulp压缩发布的文件</title>
    <url>/2021/03/02/3.%E4%BD%BF%E7%94%A8Gulp%E5%8E%8B%E7%BC%A9%E5%8F%91%E5%B8%83%E7%9A%84%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="安装-Gulp-各个压缩模块并编写任务执行文件压缩"><a href="#安装-Gulp-各个压缩模块并编写任务执行文件压缩" class="headerlink" title="安装 Gulp 各个压缩模块并编写任务执行文件压缩"></a>安装 Gulp 各个压缩模块并编写任务执行文件压缩</h2><h3 id="安装-Gulp-和各个压缩模块"><a href="#安装-Gulp-和各个压缩模块" class="headerlink" title="安装 Gulp 和各个压缩模块"></a>安装 Gulp 和各个压缩模块</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; npm install gulp -g</span><br><span class="line">&gt; npm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="编写-Gulp-压缩任务-js-代码"><a href="#编写-Gulp-压缩任务-js-代码" class="headerlink" title="编写 Gulp 压缩任务 js 代码"></a>编写 Gulp 压缩任务 js 代码</h3><p>gulpfile.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">&quot;gulp&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> minifyCss = <span class="built_in">require</span>(<span class="string">&quot;gulp-minify-css&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">&quot;gulp-uglify&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> htmlmin = <span class="built_in">require</span>(<span class="string">&quot;gulp-htmlmin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> htmlClean = <span class="built_in">require</span>(<span class="string">&quot;gulp-htmlclean&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">&quot;gulp-imagemin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩html</span></span><br><span class="line">gulp.task(<span class="string">&quot;minify-html&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .src(<span class="string">&quot;./public/**/*.html&quot;</span>)</span><br><span class="line">        .pipe(htmlClean())</span><br><span class="line">        .pipe(</span><br><span class="line">            htmlmin(&#123;</span><br><span class="line">                removeComments: <span class="literal">true</span>,</span><br><span class="line">                minifyJS: <span class="literal">true</span>,</span><br><span class="line">                minifyCSS: <span class="literal">true</span>,</span><br><span class="line">                minifyURLs: <span class="literal">true</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&quot;./public&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩css</span></span><br><span class="line">gulp.task(<span class="string">&quot;minify-css&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .src(<span class="string">&quot;./public/**/*.css&quot;</span>)</span><br><span class="line">        .pipe(</span><br><span class="line">            minifyCss(&#123;</span><br><span class="line">                compatibility: <span class="string">&quot;ie8&quot;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&quot;./public&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩js</span></span><br><span class="line">gulp.task(<span class="string">&quot;minify-js&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .src(<span class="string">&quot;./public/js/**/*.js&quot;</span>)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&quot;./public&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩图片</span></span><br><span class="line">gulp.task(<span class="string">&quot;minify-images&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .src(<span class="string">&quot;./public/images/**/*.*&quot;</span>)</span><br><span class="line">        .pipe(</span><br><span class="line">            imagemin(</span><br><span class="line">                [</span><br><span class="line">                    imagemin.gifsicle(&#123; <span class="attr">optimizationLevel</span>: <span class="number">3</span> &#125;),</span><br><span class="line">                    imagemin.mozjpeg(&#123; <span class="attr">progressive</span>: <span class="literal">true</span> &#125;),</span><br><span class="line">                    imagemin.optipng(&#123; <span class="attr">optimizationLevel</span>: <span class="number">7</span> &#125;),</span><br><span class="line">                ],</span><br><span class="line">                &#123; <span class="attr">verbose</span>: <span class="literal">true</span> &#125;</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&quot;./public/images&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认任务</span></span><br><span class="line">gulp.task(<span class="string">&quot;default&quot;</span>, gulp.parallel(<span class="string">&quot;minify-html&quot;</span>, <span class="string">&quot;minify-css&quot;</span>, <span class="string">&quot;minify-js&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="执行-Gulp-压缩任务"><a href="#执行-Gulp-压缩任务" class="headerlink" title="执行 Gulp 压缩任务"></a>执行 Gulp 压缩任务</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; gulp</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>Gulp</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO笔记②-Hexo博客添加PWA支持</title>
    <url>/2021/03/02/2.Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0PWA%E6%94%AF%E6%8C%81/</url>
    <content><![CDATA[<h2 id="此示例不借助hexo-service-worker、hexo-offline和hexo-pwa等插件实现，自己编写-manifest-webmanifest-menifest-json-和-serviceWorker-js-并引入页面"><a href="#此示例不借助hexo-service-worker、hexo-offline和hexo-pwa等插件实现，自己编写-manifest-webmanifest-menifest-json-和-serviceWorker-js-并引入页面" class="headerlink" title="此示例不借助hexo-service-worker、hexo-offline和hexo-pwa等插件实现，自己编写 manifest.webmanifest(menifest.json)和 serviceWorker.js 并引入页面"></a>此示例不借助<a href="https://github.com/zoumiaojiang/hexo-service-worker">hexo-service-worker</a>、<a href="https://github.com/JLHwung/hexo-offline">hexo-offline</a>和<a href="https://github.com/lavas-project/hexo-pwa">hexo-pwa</a>等插件实现，自己编写 manifest.webmanifest(menifest.json)和 serviceWorker.js 并引入页面</h2><p>如果使用上述插件，可以参考<a href="https://linwhitehat.github.io/Blog/2020/02/09/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2PWA.html">此博文</a></p>
<h3 id="编写-manifest-json"><a href="#编写-manifest-json" class="headerlink" title="编写 manifest.json"></a>编写 manifest.json</h3><ol>
<li><strong>Web App Manifest</strong>说明文档参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/Manifest">MDN</a></li>
<li><strong>manifest.json</strong>简易生成器<a href="https://app-manifest.firebaseapp.com/">Web App Manifest Generator</a></li>
<li>如果不使用主题，把生成的<strong>manifest.json</strong>放置在项目<strong>source</strong>文件夹根目录，<strong>hexo</strong>发布时会放置在发布文件夹根目录(跟<strong>index.html</strong>同一级目录)</li>
<li>如果使用主题，比如<strong>NexT</strong>主题放在./themes/next，则把<strong>manifest.json</strong>放置在./themes/next/source/目录下</li>
</ol>
<span id="more"></span>

<h3 id="编写一个-Service-Worker-管理器-js，用于管理-Service-Worker-的安装、更新、卸载以及-Service-Worker-的同步、通知、Web-推送等任务"><a href="#编写一个-Service-Worker-管理器-js，用于管理-Service-Worker-的安装、更新、卸载以及-Service-Worker-的同步、通知、Web-推送等任务" class="headerlink" title="编写一个 Service Worker 管理器 js，用于管理 Service Worker 的安装、更新、卸载以及 Service Worker 的同步、通知、Web 推送等任务"></a>编写一个 Service Worker 管理器 js，用于管理 Service Worker 的安装、更新、卸载以及 Service Worker 的同步、通知、Web 推送等任务</h3><p><strong>sw.reg.mgr.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 注册Service Worker</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>config 配置项目</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> register = <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//浏览器是否支持</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;serviceWorker&quot;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">            <span class="keyword">let</span> swUrl = <span class="string">`<span class="subst">$&#123;config.path&#125;</span>/<span class="subst">$&#123;config.name&#125;</span>?v=<span class="subst">$&#123;config.ver&#125;</span>`</span>;</span><br><span class="line">            <span class="comment">// 通过ver的变化来强制进行更新操作，每次更新sw.js时进行ver+1操作</span></span><br><span class="line">            navigator.serviceWorker</span><br><span class="line">                .register(swUrl)</span><br><span class="line">                .then(<span class="function">(<span class="params">swReg</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">&quot;Service Worker注册成功&quot;</span>);</span><br><span class="line">                    <span class="keyword">if</span> (config &amp;&amp; config.onRegister) &#123;</span><br><span class="line">                        config.onRegister(swReg);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    swReg.onupdatefound = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">let</span> installingWorker = swReg.installing;</span><br><span class="line">                        <span class="keyword">if</span> (!installingWorker) &#123;</span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        installingWorker.onstatechange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">                            <span class="keyword">if</span> (installingWorker.state === <span class="string">&quot;installed&quot;</span>) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (navigator.serviceWorker.controller) &#123;</span><br><span class="line">                                    config.log &amp;&amp;</span><br><span class="line">                                        <span class="built_in">console</span>.log(<span class="string">&quot;Service Worker已安装更新&quot;</span>);</span><br><span class="line">                                    <span class="keyword">if</span> (config &amp;&amp; config.onUpdate) &#123;</span><br><span class="line">                                        config.onUpdate(swReg);</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                    config.log &amp;&amp;</span><br><span class="line">                                        <span class="built_in">console</span>.log(<span class="string">&quot;Service Worker已安装&quot;</span>);</span><br><span class="line">                                    <span class="keyword">if</span> (config &amp;&amp; config.onSuccess) &#123;</span><br><span class="line">                                        config.onSuccess(swReg);</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;;</span><br><span class="line">                    &#125;;</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (config &amp;&amp; config.onError) &#123;</span><br><span class="line">                        config.onError(err);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">console</span>.error(<span class="string">&quot;Service Worker注册期间发生错误:&quot;</span>, err);</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (navigator.serviceWorker.controller) &#123;</span><br><span class="line">                navigator.serviceWorker.controller.postMessage(</span><br><span class="line">                    <span class="string">&quot;这是从window环境postMessage()&quot;</span></span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">                <span class="keyword">const</span> channel = <span class="keyword">new</span> MessageChannel();</span><br><span class="line">                channel.port1.onmessage = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(</span><br><span class="line">                        <span class="string">`<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString()&#125;</span>, index.html port1收到消息:<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">                            e.data</span></span></span><br><span class="line"><span class="string"><span class="subst">                        &#125;</span>`</span></span><br><span class="line">                    );</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="comment">// 向port2发送消息</span></span><br><span class="line">                navigator.serviceWorker.controller.postMessage(</span><br><span class="line">                    <span class="string">&quot;这是index.html向port2 postMessage()&quot;</span>,</span><br><span class="line">                    [channel.port2]</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            navigator.serviceWorker.onmessage = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(</span><br><span class="line">                    <span class="string">`<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString()&#125;</span>, index.html收到的消息: <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">                        e.data</span></span></span><br><span class="line"><span class="string"><span class="subst">                    &#125;</span>`</span></span><br><span class="line">                );</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 注销Service Worker</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> unregister = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;serviceWorker&quot;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">            navigator.serviceWorker.ready.then(<span class="function">(<span class="params">swReg</span>) =&gt;</span> &#123;</span><br><span class="line">                swReg.unregister(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">                    result &amp;&amp; <span class="built_in">console</span>.log(<span class="string">&quot;Service Worker注销成功&quot;</span>);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> broad = <span class="keyword">new</span> BroadcastChannel(<span class="string">&quot;c1&quot;</span>);</span><br><span class="line">    broad.onmessage = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(</span><br><span class="line">            <span class="string">`<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString()&#125;</span>, index.html收到的Service Worker广播消息:<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">                e.data</span></span></span><br><span class="line"><span class="string"><span class="subst">            &#125;</span>`</span></span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//注册sw.js</span></span><br><span class="line">    register(&#123;</span><br><span class="line">        ver: <span class="number">1</span>,</span><br><span class="line">        path: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        name: <span class="string">&quot;sw.js&quot;</span>,</span><br><span class="line">        log: <span class="literal">true</span>,</span><br><span class="line">        onRegister: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">        onSuccess: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">        onUpdate: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">        onError: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;&#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="编写-Service-Worker-文件，这里借助谷歌Workbox帮助编写和管理-Service-Worker"><a href="#编写-Service-Worker-文件，这里借助谷歌Workbox帮助编写和管理-Service-Worker" class="headerlink" title="编写 Service Worker 文件，这里借助谷歌Workbox帮助编写和管理 Service Worker"></a>编写 Service Worker 文件，这里借助谷歌<a href="https://developers.google.cn/web/tools/workbox/guides/get-started?hl=zh-cn">Workbox</a>帮助编写和管理 Service Worker</h3><p><strong>Service Worker</strong>详细说明参照<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API">MDN</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">importScripts(<span class="string">&quot;https://g.alicdn.com/kg/workbox/3.3.0/workbox-sw.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (workbox) &#123;</span><br><span class="line">    workbox.setConfig(&#123;</span><br><span class="line">        modulePathPrefix: <span class="string">&quot;https://g.alicdn.com/kg/workbox/3.3.0/&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 修改默认配置</span></span><br><span class="line">    workbox.core.setCacheNameDetails(&#123;</span><br><span class="line">        prefix: <span class="string">&quot;TenBlog&quot;</span>,</span><br><span class="line">        suffix: <span class="string">&quot;v1&quot;</span>,</span><br><span class="line">        precache: <span class="string">&quot;precache&quot;</span>,</span><br><span class="line">        runtime: <span class="string">&quot;runtime&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 预先缓存资源</span></span><br><span class="line">    workbox.precaching.precache([</span><br><span class="line">        <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/index.html&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/404.html&quot;</span>,</span><br><span class="line">        <span class="string">&quot;/offline.html&quot;</span>,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从缓存中读取资源的同时发送网络请求更新本地缓存</span></span><br><span class="line">    workbox.routing.registerRoute(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;^https?://tanwucheng.github.io/?$&quot;</span>),</span><br><span class="line">        workbox.strategies.staleWhileRevalidate()</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 网络优先</span></span><br><span class="line">    workbox.routing.registerRoute(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;.*.html&quot;</span>),</span><br><span class="line">        workbox.strategies.networkFirst()</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 缓存优先</span></span><br><span class="line">    workbox.routing.registerRoute(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;.*.(?:js|css|jpg|png|gif)&quot;</span>),</span><br><span class="line">        workbox.strategies.cacheFirst()</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Handling Offline Page fallback</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">this</span>.addEventListener(<span class="string">&quot;fetch&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">            event.request.mode === <span class="string">&quot;navigate&quot;</span> ||</span><br><span class="line">            (event.request.method === <span class="string">&quot;GET&quot;</span> &amp;&amp;</span><br><span class="line">                event.request.headers.get(<span class="string">&quot;accept&quot;</span>).includes(<span class="string">&quot;text/html&quot;</span>))</span><br><span class="line">        ) &#123;</span><br><span class="line">            event.respondWith(</span><br><span class="line">                fetch(event.request.url).catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">&quot;fetch error&quot;</span>, error);</span><br><span class="line">                    <span class="comment">// Return the offline page</span></span><br><span class="line">                    <span class="keyword">return</span> caches.match(<span class="string">&quot;/offline.html&quot;</span>);</span><br><span class="line">                &#125;)</span><br><span class="line">            );</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Respond with everything else if we can</span></span><br><span class="line">            event.respondWith(</span><br><span class="line">                caches.match(event.request).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> response || fetch(event.request);</span><br><span class="line">                &#125;)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Service-Worker-文件-sw-js-和-Service-Worker-sw-reg-mgr-jd-管理器放在跟-manifest-json-同一级目录"><a href="#Service-Worker-文件-sw-js-和-Service-Worker-sw-reg-mgr-jd-管理器放在跟-manifest-json-同一级目录" class="headerlink" title="Service Worker 文件(sw.js)和 Service Worker(sw.reg.mgr.jd)管理器放在跟 manifest.json 同一级目录"></a>Service Worker 文件(sw.js)和 Service Worker(sw.reg.mgr.jd)管理器放在跟 manifest.json 同一级目录</h3><h3 id="页面引入-manifest-json-和-Service-Worker"><a href="#页面引入-manifest-json-和-Service-Worker" class="headerlink" title="页面引入 manifest.json 和 Service Worker"></a>页面引入 manifest.json 和 Service Worker</h3><ul>
<li><p>  如果不使用主题，则在运行<strong>hexo generate</strong>命令后到./public 文件夹下修改<strong>index.html</strong>，在&lt;head&gt; 节点结束前引入<strong>manifest.json</strong>，在 &lt;body&gt; 结束前引入<strong>Service Worker</strong>管理器代码，应该有更简便的方式，还在查找资料中</p>
</li>
<li><p>  如果使用主题，比如<strong>NexT</strong>主题放在./themes/next，则修改./themes/next/layout/_layout.swig 文件，在 &lt;head&gt; 节点结束前引入<strong>manifest.json</strong>，在 &lt;body&gt; 结束前引入<strong>Service Worker</strong>管理器代码</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Other code here--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;manifest&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/manifest.json&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Other code here--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">            (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (<span class="built_in">window</span>.addEventListener) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;load&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>);</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// script.src = `/sw.reg.mgr.js?t=$&#123;new Date()&#125;`; // 无缓存引用</span></span></span><br><span class="line"><span class="javascript">                        script.src = <span class="string">`/sw.reg.mgr.js`</span>; <span class="comment">// 无缓存引用</span></span></span><br><span class="line"><span class="javascript">                        script.async = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">                        script.type = <span class="string">&quot;text/javascript&quot;</span>;</span></span><br><span class="line"><span class="javascript">                        script.crossOrigin = <span class="string">&quot;anonymous&quot;</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">document</span>.head.insertBefore(</span></span><br><span class="line">                            script,</span><br><span class="line"><span class="javascript">                            <span class="built_in">document</span>.head.firstChild</span></span><br><span class="line">                        );</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)();</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>HEXO</category>
        <category>PWA</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO笔记①-Hexo官方开箱即用教程</title>
    <url>/2021/03/01/1.Hexo%E5%AE%98%E6%96%B9%E5%BC%80%E7%AE%B1%E5%8D%B3%E7%94%A8%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
</search>
